<!-- This is an Apache Ant build file. As part of the desktop java build -->
<!-- process, this config is used to package the autogenerated .java -->
<!-- interface files into ViSP.jar -->
<project name="ViSP">

    <tstamp>
      <format property="timestamp" pattern="EEE MMM d yyyy HH:mm:ss z"/>
    </tstamp>

  <target name="jar">
    <!-- This is to make a jar with a source attachment, for e.g. easy -->
    <!-- navigation in Eclipse. See this question: -->
    <!-- http://stackoverflow.com/questions/3584968/ant-how-to-compile-jar-that-includes-source-attachment -->
    <javac sourcepath="" srcdir="java" destdir="build/classes" debug="on" includeantruntime="false" @VISP_ANT_JAVAC_EXTRA_ATTRS@ >
      <include name="**/*.java"/>
      <compilerarg line="-encoding utf-8"/>
    </javac>
    <jar destfile="@VISP_JAR_FILE@">
      <fileset dir="java"/>
      <fileset dir="build/classes"/>
      <manifest>
        <attribute name="Specification-Title" value="ViSP"/>
        <attribute name="Specification-Version" value="@VISP_VERSION@"/>
        <attribute name="Implementation-Title" value="ViSP"/>
        <attribute name="Implementation-Version" value="@VISP_VCSVERSION@"/>
        <attribute name="Implementation-Date" value="${timestamp}"/>
      </manifest>
    </jar>
  </target>

  <target name="javadoc">
    <javadoc
      packagenames="org.visp.*"
      sourcepath="java"
      destdir="@VISP_BINARY_DIR@/doc/doxygen/html/javadoc"
      Windowtitle="ViSP @VISP_VERSION@ Java documentation"
      Doctitle="ViSP Java documentation (@VISP_VERSION@)"
      bottom="Generated on ${timestamp} / ViSP @VISP_VCSVERSION@"
      />
  </target>

</project>
